<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ìœ„ìŠµì˜ ì›ë”ë² ë¦¬ ì‹œë®¬ë ˆì´ì…˜</title>
    <link rel="stylesheet" th:href="@{/css/common.css}">
    <style>
        .item-box { border-radius: 10px; padding: 15px; margin: 20px auto; width: 400px; }
        .rare-box { border: 2px solid gold; color: goldenrod; font-weight: bold; }
        .normal-box { border: 1px solid #ccc; }
        ul { list-style: none; padding: 0; }
        .result-box { margin: 30px auto; font-size: 1.1rem; font-weight: bold; }
    </style>
</head>
<body>

<div th:replace="~{fragments/header :: header}"></div>

<main style="text-align: center; margin-top: 40px;">
    <h2>ğŸ² ìœ„ìŠµì˜ ì›ë”ë² ë¦¬ ì‹œë®¬ë ˆì´í„°</h2>

    <!-- RARE ì•„ì´í…œ -->
    <div class="item-box rare-box">
        <h3>âœ¨ RARE ì•„ì´í…œ âœ¨</h3>
        <ul id="rare-list">
            <li>í¬ë¦¼</li>
            <li>ìƒ¤ìƒ¤</li>
            <li>íŒ¬ë””</li>
        </ul>
    </div>

    <!-- NORMAL ì•„ì´í…œ -->
    <div class="item-box normal-box">
        <h3>ì¼ë°˜ ì•„ì´í…œ</h3>
        <ul id="normal-list">
            <li>ì‹ë¹µì´</li>
            <li>ë¹µë‘˜ê¸°</li>
            <li>ì œí‚¤</li>
            <li>ì œë‚˜</li>
            <li>ì œë¦¬</li>
            <li>ê³ ë†ì¶• í”„ë¦¬ë¯¸ì—„ ìƒëª…ì˜ ë¬¼</li>
            <li>ì˜¤ê°€ë‹‰ ì›ë” ì¿ í‚¤</li>
        </ul>
    </div>

    <!-- ê²°ê³¼ í‘œì‹œ -->
    <div id="result-box" class="result-box">
        ğŸ ë½‘ì€ ì•„ì´í…œ: <span id="result-item">-</span>
    </div>

    <!-- ë²„íŠ¼ -->
    <div style="margin-top: 30px;">
        <button id="default-btn" class="cube-btn">1íšŒ ì‚¬ìš©</button>
    </div>

</main>

<script>
    async function updateStats(data) {
        console.log(data)
        document.getElementById("result-item").textContent = data.item ? data.item.name : "-";
    }

    document.getElementById("default-btn").addEventListener("click", async () => {
        const res = await fetch("/wonder/use");
        const data = await res.json();
        await updateStats(data);
    });

    document.getElementById("use10-btn").addEventListener("click", async () => {
        const res = await fetch("/wonder/use10");
        const data = await res.json();
        updateStats(data);
    });

    document.getElementById("reset-btn").addEventListener("click", async () => {
        const res = await fetch("/wonder/reset");
        const data = await res.json();
        updateStats(data);
    });
</script>

<div th:replace="~{fragments/footer :: footer}"></div>

</body>
</html>
